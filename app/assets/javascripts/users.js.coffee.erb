<% url = Envelopes::Application.routes.url_helpers %>

$ ->
  $('#account input').selectOnFocus()

  $('#account .new').on 'click', (event) ->
    event.preventDefault()
    newIndex = $('#account ul.questions li').length - 1
    newItemHtml = $('#questions_template').text().replace /index/g, newIndex
    $(newItemHtml)
      .hide()
      .insertBefore($(this).parent())
      .slideDown()
      .find('input').selectOnFocus()
  
  $('#account').on 'click', '.destroy', (event) ->
    event.preventDefault()
    $(this).parent().slideUp ->
      $(this).remove()

  $('#account .import').click ->
    modal = showModal
      content: '#import_modal'
      width: 510
      className: 'import-modal'
    $.post("<%= url.import_transactions_path %>");

