<%= fields_for "transaction[]", transaction do |f| %>
  <tr <%= cycle("", "class='alt'") %>>
    <td class='posted-at'><%= transaction.posted_at.strftime('%b %d') %></td>
    <td class='payee'><%= f.text_field :payee, title: transaction.original_payee, 'data-saved-value' => transaction.payee %></td>
    <td class='envelope'><%= f.collection_select :envelope_id, all_envelopes, :id, :full_name, {}, 'data-saved-value' => transaction.envelope_id %></td>
    <% if transaction.associated_transaction_id.nil? %>
      <td class='amount'><%= number_to_currency(transaction.amount) %></td>
    <% else %>
      <td class='amount'><%= f.text_field :amount, value: number_to_currency(transaction.amount), 'data-saved-value' => transaction.amount %></td>
    <% end %>
  </tr>
<% end %>